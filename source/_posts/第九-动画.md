---
title: 第九-D3.js之动画
date: 2021-06-27 09:44:12
tags: D3.js
---

## 动画

### 过渡动画
<b>动画这一章比较有趣，同时d3的动画原理和css3的动画类似api也雷同。理解和掌握起来比较容易。</b>

1、简单示例一：transition()、duration（）、delay() 生成一个从10到300的过渡动画
```typescript
let width:number = 600;
let height:number = 600;
let svg = d3.select('body').append('svg').attr('width',width).attr('height',height);
svg.append('rect')
   .attr('fill','steelBlue')
   .attr('x',10)
   .attr('y',10)
   .attr('width',10)
   .attr('height',30)
   .transition()
   .delay(100)    // 延迟100毫秒
   .duration(2000)  // 持续2秒
   .attr('width',300);
```

<font color='red'>说明：调用了transition()后，返回的不再是选择器对象，而是一个<b>过渡对象</b>。得到过渡对象后，就可以调用动画相关的方法了<font/>

2、示例二：esse()动效效果
```typescript
svg.append('rect')
   .attr('fill','steelBlue')
   .attr('x',10)
   .attr('y',10)
   .attr('width',10)
   .attr('height',30)
   .transition()
   .ease(d3.easeBounceIn)  // easeBounceIn跳动效果
   .attr('width',300);
```

API | 说明
:- | :-
selection.transition([name]) | 过渡动画对象
transition.delay([value]) |	延时
transition.duration([value]) |	持续时间
transition.ease([value]) |	缓动效果[easing动画](https://github.com/xswei/d3js_doc/blob/master/API_Reference/API.md#easings-d3-ease)